interactions:
  - request:
      body: '{"max_tokens":16000,"messages":[{"role":"user","content":"Please recommend a book in fantasy."}],"model":"claude-sonnet-4-0","system":"Always respond to the user''s query using the __mirascope_formatted_output_tool__ tool for structured output.","tool_choice":{"type":"tool","name":"__mirascope_formatted_output_tool__","disable_parallel_tool_use":true},"tools":[{"name":"__mirascope_formatted_output_tool__","description":"Use this tool to extract data in Book format for a final response.","input_schema":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"}},"required":["title","author"],"additionalProperties":false,"type":"object"}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        anthropic-version:
          - '2023-06-01'
        connection:
          - keep-alive
        content-length:
          - '686'
        content-type:
          - application/json
        host:
          - api.anthropic.com
        user-agent:
          - Anthropic/Python 0.75.0
        x-api-key:
          - cached-http-with-invalid-key
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - 'false'
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 0.75.0
        x-stainless-read-timeout:
          - '600'
        x-stainless-retry-count:
          - '0'
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.10.18
        x-stainless-timeout:
          - '600'
      method: POST
      uri: https://api.anthropic.com/v1/messages
    response:
      body:
        string: !!binary H4sIAAAAAAAAA3SR3UrDQBCFXyXM9RaS2lKaS3tTqIpoaVGRZdlMm6XJTtyZ7S95d0m1ioqXu9+ZOYczJ6ipwApysJWJBfaYvEfpDXr9tD9Mh9kAFLgCcqh5rdPscXrzNBsfZovj/Haz32Vb4Um5BAVyaLBTIbNZIygIVHUfhtmxGC+gwJIX9AL5y+miF6JKR8aLS/eOOs1GYzouRtPnq+sdrwPtKcwm4wMo8Kbu5rSuXTBsqUG9olAbESw0RWmi6PNS3a30TRTITyBOzmnmJSZ3psaEVomUmCydL0CBiVJSgBzujQRnN8kDSbmKzNC2rwpYqNEBDZP/GfkMGN8ieouQ+1hVCuK5gPz04a6FNugZ8kF/qMAaW6K2AY048vqnIr3wgKb4j11mOwNsSqwxmEoP67/6b5qVv2mr4Kurz3hjBYxh6yxqcdiV0Z2tMKGAtn0HAAD//wMAI19TXycCAAA=
      headers:
        CF-RAY:
          - 9a977414a884c38b-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Fri, 05 Dec 2025 23:51:49 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Robots-Tag:
          - none
        anthropic-organization-id:
          - bcf0d122-a6b6-40d4-873c-83762f5fb168
        anthropic-ratelimit-input-tokens-limit:
          - '30000'
        anthropic-ratelimit-input-tokens-remaining:
          - '30000'
        anthropic-ratelimit-input-tokens-reset:
          - '2025-12-05T23:51:49Z'
        anthropic-ratelimit-output-tokens-limit:
          - '8000'
        anthropic-ratelimit-output-tokens-remaining:
          - '8000'
        anthropic-ratelimit-output-tokens-reset:
          - '2025-12-05T23:51:49Z'
        anthropic-ratelimit-requests-limit:
          - '50'
        anthropic-ratelimit-requests-remaining:
          - '49'
        anthropic-ratelimit-requests-reset:
          - '2025-12-05T23:51:47Z'
        anthropic-ratelimit-tokens-limit:
          - '38000'
        anthropic-ratelimit-tokens-remaining:
          - '38000'
        anthropic-ratelimit-tokens-reset:
          - '2025-12-05T23:51:49Z'
        cf-cache-status:
          - DYNAMIC
        request-id:
          - req_011CVpSPybKB5hgRX8gusEif
        retry-after:
          - '12'
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-envoy-upstream-service-time:
          - '2350'
      status:
        code: 200
        message: OK
version: 1
source_sha256: f91ff38ee2d9fa25de655e3491419687c028a2b78859ef9e188d69f1727430f9
