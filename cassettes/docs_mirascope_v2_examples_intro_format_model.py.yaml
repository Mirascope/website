interactions:
  - request:
      body: '{"max_tokens":16000,"messages":[{"role":"user","content":"Please recommend a book in fantasy."}],"model":"claude-sonnet-4-0","system":"Always respond to the user''s query using the __mirascope_formatted_output_tool__ tool for structured output.","tool_choice":{"type":"tool","name":"__mirascope_formatted_output_tool__","disable_parallel_tool_use":true},"tools":[{"name":"__mirascope_formatted_output_tool__","description":"Use this tool to extract data in Book format for a final response.","input_schema":{"properties":{"title":{"title":"Title","type":"string"},"author":{"title":"Author","type":"string"}},"required":["title","author"],"additionalProperties":false,"type":"object"}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        anthropic-version:
          - '2023-06-01'
        connection:
          - keep-alive
        content-length:
          - '686'
        content-type:
          - application/json
        host:
          - api.anthropic.com
        user-agent:
          - Anthropic/Python 0.75.0
        x-api-key:
          - cached-http-with-invalid-key
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - 'false'
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 0.75.0
        x-stainless-read-timeout:
          - '600'
        x-stainless-retry-count:
          - '0'
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.10.18
        x-stainless-timeout:
          - '600'
      method: POST
      uri: https://api.anthropic.com/v1/messages
    response:
      body:
        string: !!binary H4sIAAAAAAAAAwAAAP//dJHhS8MwEMX/lXKfM2hHq9iPogzcGEN0CiIhptc1ts11yWWipf+7dFpFxY/J7929x7seWiqwgRx0o0KBM0/WIs/S2TyeZ3GWpCDAFJBD63cyTk7fTkJ32IbNE232ZbI0l6uwrEEAv3Y4qtB7tUMQ4KgZP5T3xrOyDAI0WUbLkD/0k56JGhk8Ti7jO8g4uar1Be7P0/Xq5Vbr58V9edimCxBgVTvOSdkap7ymDmVJrlXMWEgK3AWWx6VyXGm7wJD3wIaPaW4qjNaqxYjKiCuM7owtQIAKXJGDHDaKndF1dE1clcF7GIZHAZ6pkw6VJ/sz8hF43Ae0GiG3oWkEhGMBef/hLplqtB7ydJ4J0EpXKLVDxYas/KmIJ+5QFf+xaXY0wK7CFp1qZNb+1X/TpPpNBwFfXX3GOxPg0R2MRskGxzLGsxXKFTAM7wAAAP//AwDJwsBFJwIAAA==
      headers:
        CF-RAY:
          - 9a9774038a48cf2f-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Fri, 05 Dec 2025 23:51:46 GMT
        Server:
          - cloudflare
        Transfer-Encoding:
          - chunked
        X-Robots-Tag:
          - none
        anthropic-organization-id:
          - bcf0d122-a6b6-40d4-873c-83762f5fb168
        anthropic-ratelimit-input-tokens-limit:
          - '30000'
        anthropic-ratelimit-input-tokens-remaining:
          - '30000'
        anthropic-ratelimit-input-tokens-reset:
          - '2025-12-05T23:51:46Z'
        anthropic-ratelimit-output-tokens-limit:
          - '8000'
        anthropic-ratelimit-output-tokens-remaining:
          - '8000'
        anthropic-ratelimit-output-tokens-reset:
          - '2025-12-05T23:51:46Z'
        anthropic-ratelimit-requests-limit:
          - '50'
        anthropic-ratelimit-requests-remaining:
          - '49'
        anthropic-ratelimit-requests-reset:
          - '2025-12-05T23:51:45Z'
        anthropic-ratelimit-tokens-limit:
          - '38000'
        anthropic-ratelimit-tokens-remaining:
          - '38000'
        anthropic-ratelimit-tokens-reset:
          - '2025-12-05T23:51:46Z'
        cf-cache-status:
          - DYNAMIC
        request-id:
          - req_011CVpSPmw65buibHth7a4hA
        retry-after:
          - '15'
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        x-envoy-upstream-service-time:
          - '2199'
      status:
        code: 200
        message: OK
version: 1
source_sha256: 3eac90949e2ec21398fcd541baf2f9c286002e2890e1f4fb4c1eec1c016f9753
